<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>–ö–∞—Ä—Ç–∞ –º–∞—Ä—à—Ä—É—Ç–∞ - –ü—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ –ø–æ –ù–æ—Ä–≤–µ–≥–∏–∏</title>
    <meta
      name="description"
      content="–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—Ç–∞ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—è –ø–æ –ù–æ—Ä–≤–µ–≥–∏–∏ —Å –º–∞—Ä—à—Ä—É—Ç–æ–º –∏ —Ç–æ—á–∫–∞–º–∏ –∏–Ω—Ç–µ—Ä–µ—Å–∞"
    />
    <meta name="author" content="Norway Trip Planner" />

    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#3b82f6" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <meta name="apple-mobile-web-app-title" content="Norway Trip Map" />

    <!-- Favicon -->
    <link
      rel="icon"
      type="image/svg+xml"
      href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üó∫Ô∏è</text></svg>"
    />

    <link rel="stylesheet" href="styles.css" />
    <link rel="stylesheet" href="map.css" />
  </head>

  <body>
    <!-- Header -->
    <header class="header">
      <h1>üó∫Ô∏è –ö–∞—Ä—Ç–∞ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—è</h1>
      <a href="index.html" class="nav-link">‚Üê –ö –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫—É</a>
    </header>

    <!-- Toggle Buttons -->
    <button
      class="toggle-btn toggle-controls"
      onclick="togglePanel('controls')"
      title="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è"
    >
      ‚öôÔ∏è
    </button>
    <button
      class="toggle-btn toggle-locations"
      onclick="togglePanel('locations')"
      title="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –ª–æ–∫–∞—Ü–∏–π"
    >
      üìç
    </button>

    <!-- Controls Panel -->
    <div class="controls-panel" id="controls-panel">
      <!-- Day Controls -->
      <div class="control-section">
        <div class="control-title">üìÖ –î–Ω–∏</div>
        <div class="day-controls">
          <button class="day-button active" onclick="showAllDays()">–í—Å–µ</button>
          <button class="day-button" onclick="showDay(1)">1</button>
          <button class="day-button" onclick="showDay(2)">2</button>
          <button class="day-button" onclick="showDay(3)">3</button>
          <button class="day-button" onclick="showDay(4)">4</button>
          <button class="day-button" onclick="showDay(5)">5</button>
          <button class="day-button" onclick="showDay(6)">6</button>
          <button class="day-button" onclick="showDay(7)">7</button>
        </div>
      </div>

      <!-- Filter Controls -->
      <div class="control-section">
        <div class="control-title">üîç –¢–∏–ø—ã</div>
        <div class="filter-controls">
          <button
            class="filter-btn btn-all active"
            onclick="filterLocations('all')"
          >
            –í—Å–µ —Ç–æ—á–∫–∏
          </button>
          <button
            class="filter-btn btn-hidden_gem"
            onclick="filterLocations('hidden_gem')"
          >
            üíé –ñ–µ–º—á—É–∂–∏–Ω—ã
          </button>
          <button
            class="filter-btn btn-activity"
            onclick="filterLocations('activity')"
          >
            üßó –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
          </button>
          <button
            class="filter-btn btn-sightseeing"
            onclick="filterLocations('sightseeing')"
          >
            üèîÔ∏è –í–∏–¥—ã
          </button>
          <button
            class="filter-btn btn-accommodation"
            onclick="filterLocations('accommodation')"
          >
            üèïÔ∏è –ñ–∏–ª—å–µ
          </button>
          <button
            class="filter-btn btn-transport"
            onclick="filterLocations('transport')"
          >
            ‚õ¥Ô∏è –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç
          </button>
          <button
            class="filter-btn btn-shopping"
            onclick="filterLocations('shopping')"
          >
            üõí –ü–æ–∫—É–ø–∫–∏
          </button>
          <button
            class="filter-btn btn-logistics"
            onclick="filterLocations('logistics')"
          >
            üöê –õ–æ–≥–∏—Å—Ç–∏–∫–∞
          </button>
        </div>
      </div>

      <!-- Route Options -->
      <div class="control-section">
        <div class="control-title">üõ£Ô∏è –ú–∞—Ä—à—Ä—É—Ç—ã</div>
        <div class="route-options">
          <label class="route-option">
            <input
              type="checkbox"
              id="show-gem-routes"
              checked
              onchange="toggleGemRoutes()"
            />
            <span class="route-option-text">–ü–æ–∫–∞–∑–∞—Ç—å –¥–µ—Ç—É—Ä—ã –∫ –∂–µ–º—á—É–∂–∏–Ω–∞–º</span>
          </label>
        </div>
      </div>

      <!-- Statistics -->
      <div class="control-section">
        <div class="control-title">üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</div>
        <div class="stats-section">
          <div class="stat-card">
            <div class="stat-number" id="total-locations">-</div>
            <div class="stat-label">–¢–æ—á–µ–∫</div>
          </div>
          <div class="stat-card">
            <div class="stat-number" id="total-distance">-</div>
            <div class="stat-label">–ö–º</div>
          </div>
          <div class="stat-card">
            <div class="stat-number" id="hidden-gems">-</div>
            <div class="stat-label">–ñ–µ–º—á—É–∂–∏–Ω</div>
          </div>
          <div class="stat-card">
            <div class="stat-number">7</div>
            <div class="stat-label">–î–Ω–µ–π</div>
          </div>
        </div>
      </div>
    </div>

    <!-- Locations Panel -->
    <div class="locations-panel" id="locations-panel">
      <div class="locations-title">üìç –õ–æ–∫–∞—Ü–∏–∏</div>
      <div id="locations-container"></div>
    </div>

    <!-- Mobile Toggle Bar -->
    <div class="mobile-toggle-bar">
      <button class="mobile-toggle-btn" id="mobile-controls-btn" onclick="toggleMobilePanel('controls')">
        ‚öôÔ∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
      </button>
      <button class="mobile-toggle-btn" id="mobile-locations-btn" onclick="toggleMobilePanel('locations')">
        üìç –õ–æ–∫–∞—Ü–∏–∏
      </button>
    </div>

    <!-- Map Container -->
    <div class="map-container">
      <div id="map"></div>
    </div>

    <script src="config.js" onerror="console.warn('config.js –Ω–µ –Ω–∞–π–¥–µ–Ω, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è fallback')"></script>
    <script src="config-fallback.js"></script>
    <script type="module" src="scripts/map.js"></script>
  </body>
</html>
